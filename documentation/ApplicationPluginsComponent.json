{"name":"ApplicationPluginsComponent","id":"component-ApplicationPluginsComponent-9c957303d185591454057f162559cbfa1469c2300942b72e589bd9626051affe777440f3e0b2ce296cbf96761dcc379e52d885e7bd60a333c958424f4be466b3","file":"ecosystem/application-plugins/application-plugins.component.ts","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"c8y-app-plugins","styleUrls":[],"styles":[],"templateUrl":["./application-plugins.component.html"],"viewProviders":[],"hostDirectives":[],"inputsClass":[{"name":"appId","deprecated":false,"deprecationMessage":"","line":45,"type":"string | number","decorators":[]}],"outputsClass":[],"propertiesClass":[{"name":"actionControls","defaultValue":"this.getActionControls()","deprecated":false,"deprecationMessage":"","type":"ActionControl[]","indexKey":"","optional":false,"description":"","line":105},{"name":"allAvailablePlugins$","defaultValue":"new BehaviorSubject([])","deprecated":false,"deprecationMessage":"","type":"BehaviorSubject<ApplicationPlugin[]>","indexKey":"","optional":false,"description":"","line":50},{"name":"app","deprecated":false,"deprecationMessage":"","type":"IApplication","indexKey":"","optional":false,"description":"","line":100},{"name":"bulkActionControls","defaultValue":"this.getBulkActionControls()","deprecated":false,"deprecationMessage":"","type":"BulkActionControl[]","indexKey":"","optional":false,"description":"","line":106},{"name":"columns","defaultValue":"[\n    {\n      name: 'name',\n      header: gettext('Plugin name'),\n      path: 'name',\n      filterable: true\n    },\n    {\n      name: 'Version',\n      header: gettext('Version'),\n      path: 'version',\n      filterable: false\n    },\n    {\n      name: 'Tag',\n      header: gettext('Tag`noun`'),\n      path: 'installedViaTag',\n      filterable: false,\n      cellRendererComponent: LabelCellRendererComponent\n    },\n    {\n      name: 'description',\n      header: gettext('Description'),\n      path: 'description',\n      filterable: false,\n      cellCSSClassName: 'small'\n    },\n    {\n      name: 'contextPath',\n      header: gettext('Source'),\n      path: 'contextPath',\n      filterable: false,\n      cellRendererComponent: LabelCellRendererComponent\n    },\n    {\n      name: 'scope',\n      header: gettext('Scope'),\n      path: 'scope',\n      filterable: false,\n      visible: false,\n      cellRendererComponent: LabelCellRendererComponent\n    },\n    {\n      name: 'status',\n      header: gettext('Status'),\n      path: 'status',\n      filterable: false,\n      cellRendererComponent: OrphanedStatusCellRendererComponent\n    }\n  ]","deprecated":false,"deprecationMessage":"","type":"Column[]","indexKey":"","optional":false,"description":"","line":123},{"name":"CURRENT_LOCATION","defaultValue":"location.href","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":43},{"name":"dataGrid","deprecated":false,"deprecationMessage":"","type":"DataGridComponent","indexKey":"","optional":false,"description":"","line":47,"decorators":[{"name":"ViewChild","stringifiedArguments":"DataGridComponent, {static: false}"}],"modifierKind":[170]},{"name":"displayOptions","defaultValue":"{\n    bordered: false,\n    striped: true,\n    filter: true,\n    gridHeader: true,\n    hover: true\n  }","deprecated":false,"deprecationMessage":"","type":"DisplayOptions","indexKey":"","optional":false,"description":"","line":116},{"name":"headerActionControls","defaultValue":"[]","deprecated":false,"deprecationMessage":"","type":"HeaderActionControl[]","indexKey":"","optional":false,"description":"","line":107},{"name":"installedPlugins$","defaultValue":"combineLatest([\n    this.remotePlugins$.pipe(map(remotes => PluginsService.convertInstalledRemotesToIds(remotes))),\n    this.allAvailablePlugins$\n  ]).pipe(\n    map(([remotePlugins, allPlugins]) => this.getInstalledPlugins(allPlugins, remotePlugins)),\n    shareReplay(1)\n  )","deprecated":false,"deprecationMessage":"","type":"Observable<ApplicationPlugin[]>","indexKey":"","optional":false,"description":"","line":53},{"name":"isLoading","deprecated":false,"deprecationMessage":"","type":"boolean","indexKey":"","optional":false,"description":"","line":101},{"name":"isStandard$","defaultValue":"combineLatest([this.installedPlugins$, this.selfPlugins$]).pipe(\n    map(([installedPlugins, selfPlugins]) => {\n      const manifestRemotes = this.app?.manifest?.remotes || {};\n      // ensure that every installed plugin is a self plugin or a plugin from the manifest\n      const allInstalledPluginsAreSelf = installedPlugins.every(\n        p =>\n          selfPlugins.some(selfPlugin => selfPlugin.id === p.id) ||\n          (Array.isArray(manifestRemotes[p.contextPath]) &&\n            manifestRemotes[p.contextPath].includes(p.module))\n      );\n\n      // ensure that every self plugin is installed\n      const allSelfPluginsAreInstalled = selfPlugins.every(selfPlugin =>\n        installedPlugins.some(p => p.id === selfPlugin.id)\n      );\n      const configRemotes = this.app?.config?.remotes || {};\n\n      // ensure that every remote from the manifest is in the config\n      // if no config exists we are also all good\n      const everyRemoteFromManifestIsInConfig =\n        !this.app?.config?.remotes ||\n        Object.keys(manifestRemotes).every(\n          contextPath =>\n            Array.isArray(configRemotes[contextPath]) &&\n            Array.isArray(manifestRemotes[contextPath]) &&\n            manifestRemotes[contextPath].every(module =>\n              configRemotes[contextPath].includes(module)\n            )\n        );\n\n      return (\n        allInstalledPluginsAreSelf &&\n        allSelfPluginsAreInstalled &&\n        everyRemoteFromManifestIsInConfig\n      );\n    })\n  )","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":63},{"name":"loadingItemsLabel","defaultValue":"gettext('Loading packagesâ€¦')","deprecated":false,"deprecationMessage":"","type":"string","indexKey":"","optional":false,"description":"","line":104},{"name":"loadMoreItemsLabel","defaultValue":"gettext('Load more packages')","deprecated":false,"deprecationMessage":"","type":"string","indexKey":"","optional":false,"description":"","line":103},{"name":"noDataMessage","defaultValue":"gettext('No plugins installed.')","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":109},{"name":"noDataSubtitle","defaultValue":"gettext(\"This application doesn't have any plugin. Click below to install.\")","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":111},{"name":"noResultsMessage","defaultValue":"gettext('No plugins to display.')","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":108},{"name":"noResultsSubtitle","defaultValue":"gettext('Refine your search terms or check your spelling.')","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":110},{"name":"orphanedPlugins$","defaultValue":"this.installedPlugins$.pipe(\n    map(plugins => plugins.filter(p => p.status === ApplicationPluginStatus.ORPHANED))\n  )","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":60},{"name":"pagination","defaultValue":"{\n    pageSize: 10,\n    currentPage: 1\n  }","deprecated":false,"deprecationMessage":"","type":"Pagination","indexKey":"","optional":false,"description":"","line":112},{"name":"PRODUCT_EXPERIENCE","defaultValue":"PRODUCT_EXPERIENCE_ECOSYSTEM","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":42},{"name":"remotePlugins$","defaultValue":"new BehaviorSubject({})","deprecated":false,"deprecationMessage":"","type":"BehaviorSubject<ApplicationRemotePlugins>","indexKey":"","optional":false,"description":"","line":49},{"name":"selfPlugins$","defaultValue":"new BehaviorSubject([])","deprecated":false,"deprecationMessage":"","type":"BehaviorSubject<ApplicationPlugin[]>","indexKey":"","optional":false,"description":"","line":51},{"name":"title","defaultValue":"gettext('Installed plugins')","deprecated":false,"deprecationMessage":"","type":"string","indexKey":"","optional":false,"description":"","line":102}],"methodsClass":[{"name":"cleanupOrphanedPlugins","args":[{"name":"plugins","type":"ApplicationPlugin[]","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"any","typeParameters":[],"line":312,"deprecated":false,"deprecationMessage":"","modifierKind":[134],"jsdoctags":[{"name":"plugins","type":"ApplicationPlugin[]","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},{"name":"getActionControls","args":[],"optional":false,"returnType":"ActionControl[]","typeParameters":[],"line":317,"deprecated":false,"deprecationMessage":""},{"name":"getBulkActionControls","args":[],"optional":false,"returnType":"BulkActionControl[]","typeParameters":[],"line":365,"deprecated":false,"deprecationMessage":""},{"name":"installPlugins","args":[],"optional":false,"returnType":"any","typeParameters":[],"line":206,"deprecated":false,"deprecationMessage":"","modifierKind":[134]},{"name":"loadData","args":[],"optional":false,"returnType":"any","typeParameters":[],"line":190,"deprecated":false,"deprecationMessage":"","modifierKind":[134]},{"name":"ngOnDestroy","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":401,"deprecated":false,"deprecationMessage":""},{"name":"ngOnInit","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":185,"deprecated":false,"deprecationMessage":""},{"name":"refresh","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":397,"deprecated":false,"deprecationMessage":""},{"name":"removePlugins","args":[{"name":"plugins","type":"string[]","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"any","typeParameters":[],"line":272,"deprecated":false,"deprecationMessage":"","modifierKind":[134],"jsdoctags":[{"name":"plugins","type":"string[]","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},{"name":"resetToDefault","args":[],"optional":false,"returnType":"any","typeParameters":[],"line":199,"deprecated":false,"deprecationMessage":"","modifierKind":[134]},{"name":"showPluginReadme","args":[{"name":"plugin","type":"ApplicationPlugin","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"void","typeParameters":[],"line":358,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"name":"plugin","type":"ApplicationPlugin","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},{"name":"updatePlugin","args":[{"name":"app","type":"IApplication","deprecated":false,"deprecationMessage":""},{"name":"plugin","type":"ApplicationPlugin","deprecated":false,"deprecationMessage":""},{"name":"downgrade","type":"","deprecated":false,"deprecationMessage":"","defaultValue":"false"}],"optional":false,"returnType":"any","typeParameters":[],"line":376,"deprecated":false,"deprecationMessage":"","modifierKind":[134],"jsdoctags":[{"name":"app","type":"IApplication","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"plugin","type":"ApplicationPlugin","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"downgrade","type":"","deprecated":false,"deprecationMessage":"","defaultValue":"false","tagName":{"text":"param"}}]}],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"standalone":false,"imports":[],"description":"","rawdescription":"\n","type":"component","assetsDirs":[],"constructorObj":{"name":"constructor","description":"","deprecated":false,"deprecationMessage":"","args":[{"name":"activatedRoute","type":"ActivatedRoute","deprecated":false,"deprecationMessage":""},{"name":"ecosystemService","type":"EcosystemService","deprecated":false,"deprecationMessage":""},{"name":"bsModalService","type":"BsModalService","deprecated":false,"deprecationMessage":""},{"name":"pluginsService","type":"PluginsService","deprecated":false,"deprecationMessage":""},{"name":"alertService","type":"AlertService","deprecated":false,"deprecationMessage":""},{"name":"gainsightService","type":"GainsightService","deprecated":false,"deprecationMessage":""},{"name":"bottomDrawerService","type":"BottomDrawerService","deprecated":false,"deprecationMessage":""}],"line":173,"jsdoctags":[{"name":"activatedRoute","type":"ActivatedRoute","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"ecosystemService","type":"EcosystemService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"bsModalService","type":"BsModalService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"pluginsService","type":"PluginsService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"alertService","type":"AlertService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"gainsightService","type":"GainsightService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"bottomDrawerService","type":"BottomDrawerService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},"extends":[],"implements":["OnInit","OnDestroy"]}