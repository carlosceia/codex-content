{"name":"StoreBrandingService","id":"injectable-StoreBrandingService-5b25deecf320b8781ff5c50e0550c823caaf887f2d3cc290f65789aa2ee713ac09c74c033a40965387192d447bea48e336f065a048e95c44fb64a2872256237a","file":"branding/shared/data/store-branding.service.ts","properties":[{"name":"fileNames","defaultValue":"{\n    options: 'options.json',\n    manifest: 'cumulocity.json',\n    exportZipName: 'public-options.zip'\n  } as const","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":52,"modifierKind":[148]},{"name":"manifestValues","defaultValue":"{\n    name: 'public-options',\n    contextPath: 'public-options',\n    key: 'public-options-key',\n    description: 'Application containing static assets used by e.g. branding.',\n    noAppSwitcher: true,\n    type: ApplicationType.HOSTED,\n    availability: ApplicationAvailability.SHARED\n  } as const satisfies IApplication","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":57,"modifierKind":[148]},{"name":"refreshTriggerBrandingVariants","defaultValue":"new BehaviorSubject<void>(null)","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":66}],"methods":[{"name":"addBranding","args":[{"name":"version","type":"string","deprecated":false,"deprecationMessage":""},{"name":"content","type":"BrandingOptionsJson","deprecated":false,"deprecationMessage":"","defaultValue":"{}"},{"name":"tags","type":"string[]","deprecated":false,"deprecationMessage":"","defaultValue":"[]"},{"name":"publicOptionsApp","type":"IApplication","deprecated":false,"deprecationMessage":"","optional":true}],"optional":false,"returnType":"Promise<literal type>","typeParameters":[],"line":330,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nAdds a new branding version to the public options app.\nThe public options app can be optionally provided to avoid another request for it.\n","description":"<p>Adds a new branding version to the public options app.\nThe public options app can be optionally provided to avoid another request for it.</p>\n","modifierKind":[134],"jsdoctags":[{"name":"version","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"content","type":"BrandingOptionsJson","deprecated":false,"deprecationMessage":"","defaultValue":"{}","tagName":{"text":"param"}},{"name":"tags","type":"string[]","deprecated":false,"deprecationMessage":"","defaultValue":"[]","tagName":{"text":"param"}},{"name":"publicOptionsApp","type":"IApplication","deprecated":false,"deprecationMessage":"","optional":true,"tagName":{"text":"param"}}]},{"name":"createPublicOptionsAppFromInheritedOptions","args":[{"name":"brandingVars","type":"Record<string | string>","deprecated":false,"deprecationMessage":"","optional":true}],"optional":false,"returnType":"Promise<literal type>","typeParameters":[],"line":400,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nCombines current branding options with the provided branding variables and creates a new public options app.\nAny assets in the branding will be cloned.\n","description":"<p>Combines current branding options with the provided branding variables and creates a new public options app.\nAny assets in the branding will be cloned.</p>\n","modifierKind":[134],"jsdoctags":[{"name":"brandingVars","type":"Record<string | string>","deprecated":false,"deprecationMessage":"","optional":true,"tagName":{"text":"param"}}]},{"name":"deleteAllBrandings","args":[{"name":"publicOptions","type":"IApplication","deprecated":false,"deprecationMessage":"","optional":true}],"optional":false,"returnType":"Promise<void>","typeParameters":[],"line":246,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nDeletes the public options app and therefore all brandings.\nThe public options app can be optionally provided to avoid another request for it.\n","description":"<p>Deletes the public options app and therefore all brandings.\nThe public options app can be optionally provided to avoid another request for it.</p>\n","modifierKind":[134],"jsdoctags":[{"name":"publicOptions","type":"IApplication","deprecated":false,"deprecationMessage":"","optional":true,"tagName":{"text":"param"}}]},{"name":"deleteBrandingVersion","args":[{"name":"version","type":"string","deprecated":false,"deprecationMessage":""},{"name":"publicOptions","type":"IApplication","deprecated":false,"deprecationMessage":"","optional":true}],"optional":false,"returnType":"Promise<void>","typeParameters":[],"line":307,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nRemoves a branding version from the public options app.\nThe public options app can be optionally provided to avoid another request for it.\n","description":"<p>Removes a branding version from the public options app.\nThe public options app can be optionally provided to avoid another request for it.</p>\n","modifierKind":[134],"jsdoctags":[{"name":"version","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"publicOptions","type":"IApplication","deprecated":false,"deprecationMessage":"","optional":true,"tagName":{"text":"param"}}]},{"name":"getBrandingOptionsForVersion","args":[{"name":"version","type":"string","deprecated":false,"deprecationMessage":"","optional":true}],"optional":false,"returnType":"Promise<BrandingOptionsJson>","typeParameters":[],"line":349,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nReturns the branding options for the provided version.\nIf no branding was found (e.g. status 404), an error is thrown.\n","description":"<p>Returns the branding options for the provided version.\nIf no branding was found (e.g. status 404), an error is thrown.</p>\n","modifierKind":[134],"jsdoctags":[{"name":"version","type":"string","deprecated":false,"deprecationMessage":"","optional":true,"tagName":{"text":"param"}}]},{"name":"getBrandingZip","args":[{"name":"content","type":"Record<string | any>","deprecated":false,"deprecationMessage":"","defaultValue":"{}"}],"optional":false,"returnType":"Promise<Blob>","typeParameters":[],"line":316,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nReturns the blob of a zip file containing the provided branding options (options.json) and the manifest (cumulocity.json).\n","description":"<p>Returns the blob of a zip file containing the provided branding options (options.json) and the manifest (cumulocity.json).</p>\n","modifierKind":[134],"jsdoctags":[{"name":"content","type":"Record<string | any>","deprecated":false,"deprecationMessage":"","defaultValue":"{}","tagName":{"text":"param"}}]},{"name":"getMetadataOfBrandingBinaries","args":[{"name":"versions","type":"BrandVersion[]","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"Promise<BrandVersion[]>","typeParameters":[],"line":256,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nEnhances the provided branding versions with metadata from the linked binaries.\nIt will add the owner and lastUpdated fields to the versions.\nThe provided array is altered.\n","description":"<p>Enhances the provided branding versions with metadata from the linked binaries.\nIt will add the owner and lastUpdated fields to the versions.\nThe provided array is altered.</p>\n","modifierKind":[134],"jsdoctags":[{"name":"versions","type":"BrandVersion[]","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},{"name":"getStartedUsingBranding","args":[],"optional":false,"returnType":"Promise<void>","typeParameters":[],"line":186,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nWill create a the initial branding based on the currently applied CSS variables.\n","description":"<p>Will create a the initial branding based on the currently applied CSS variables.</p>\n","modifierKind":[134]},{"name":"getZipForBinary","args":[{"name":"binaryId","type":"string","deprecated":false,"deprecationMessage":""},{"name":"fileName","type":"string","deprecated":false,"deprecationMessage":"","defaultValue":"this.fileNames.exportZipName"}],"optional":false,"returnType":"Observable<File>","typeParameters":[],"line":232,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"name":"binaryId","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"fileName","type":"string","deprecated":false,"deprecationMessage":"","defaultValue":"this.fileNames.exportZipName","tagName":{"text":"param"}}]},{"name":"loadBrandingVariants","args":[{"name":"app","type":"IApplication","deprecated":false,"deprecationMessage":"","optional":true}],"optional":false,"returnType":"Promise<literal type>","typeParameters":[],"line":110,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nReturns the brandings of the tenant.\nIf no public options app is found, publicOptions will be undefined and variants an empty array.\nFor old brandings (created without versioning) a default version is returned.\n","description":"<p>Returns the brandings of the tenant.\nIf no public options app is found, publicOptions will be undefined and variants an empty array.\nFor old brandings (created without versioning) a default version is returned.</p>\n","modifierKind":[134],"jsdoctags":[{"name":"app","type":"IApplication","deprecated":false,"deprecationMessage":"","optional":true,"tagName":{"text":"param"}}]},{"name":"markAsActive","args":[{"name":"brandingVersion","type":"BrandVersion","deprecated":false,"deprecationMessage":""},{"name":"app","type":"IApplication","deprecated":false,"deprecationMessage":"","optional":true}],"optional":false,"returnType":"Promise<void>","typeParameters":[],"line":83,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nSets the `latest` tag on the provided branding version. Making it the global active branding.\n","description":"<p>Sets the <code>latest</code> tag on the provided branding version. Making it the global active branding.</p>\n","modifierKind":[134],"jsdoctags":[{"name":"brandingVersion","type":"BrandVersion","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"app","type":"IApplication","deprecated":false,"deprecationMessage":"","optional":true,"tagName":{"text":"param"}}]},{"name":"openPreviewForBranding","args":[{"name":"brandingName","type":"string","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"void","typeParameters":[],"line":94,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nOpens a new tab with to preview the branding. The branding must have been saved beforehand.\n","description":"<p>Opens a new tab with to preview the branding. The branding must have been saved beforehand.</p>\n","jsdoctags":[{"name":{"pos":3036,"end":3048,"kind":80,"id":0,"flags":16842752,"transformFlags":0,"escapedText":"brandingName"},"type":"string","deprecated":false,"deprecationMessage":"","tagName":{"pos":3030,"end":3035,"kind":80,"id":0,"flags":16842752,"transformFlags":0,"escapedText":"param"},"comment":"<p>the name of the branding to be previewed</p>\n"}]},{"name":"replaceBrandingAssetsInBrandingOptions","args":[{"name":"branding","type":"BrandingOptionsJson","deprecated":false,"deprecationMessage":""},{"name":"oldAssets","type":"StaticAsset[]","deprecated":false,"deprecationMessage":""},{"name":"newAssets","type":"StaticAsset[]","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"BrandingOptionsJson","typeParameters":[],"line":460,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nReplaces the assets in the branding options with the new assets.\nGoes through the provided `oldAssets` and replaces their occurrences in the branding with the corresponding `newAssets` entry sharing the same fileName.\nReturns the updated branding options.\n","description":"<p>Replaces the assets in the branding options with the new assets.\nGoes through the provided <code>oldAssets</code> and replaces their occurrences in the branding with the corresponding <code>newAssets</code> entry sharing the same fileName.\nReturns the updated branding options.</p>\n","jsdoctags":[{"name":"branding","type":"BrandingOptionsJson","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"oldAssets","type":"StaticAsset[]","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"newAssets","type":"StaticAsset[]","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},{"name":"saveBranding","args":[{"name":"blob","type":"Blob | File","deprecated":false,"deprecationMessage":""},{"name":"version","type":"string","deprecated":false,"deprecationMessage":""},{"name":"tags","type":"string[]","deprecated":false,"deprecationMessage":"","defaultValue":"[]"},{"name":"publicOptionsApp","type":"IApplication","deprecated":false,"deprecationMessage":"","optional":true}],"optional":false,"returnType":"Promise<literal type>","typeParameters":[],"line":277,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nSaves the provided branding as a new version for the public options app.\nThe public options app can be optionally provided to avoid another request for it.\n","description":"<p>Saves the provided branding as a new version for the public options app.\nThe public options app can be optionally provided to avoid another request for it.</p>\n","modifierKind":[134],"jsdoctags":[{"name":"blob","type":"Blob | File","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"version","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"tags","type":"string[]","deprecated":false,"deprecationMessage":"","defaultValue":"[]","tagName":{"text":"param"}},{"name":"publicOptionsApp","type":"IApplication","deprecated":false,"deprecationMessage":"","optional":true,"tagName":{"text":"param"}}]},{"name":"saveExistingBranding","args":[{"name":"branding","type":"Record<string | any>","deprecated":false,"deprecationMessage":""},{"name":"currentVersion","type":"string","deprecated":false,"deprecationMessage":""},{"name":"tagsOfCurrentVersion","type":"string[]","deprecated":false,"deprecationMessage":"","defaultValue":"[]"},{"name":"newVersion","type":"string","deprecated":false,"deprecationMessage":"","optional":true}],"optional":false,"returnType":"Promise<string>","typeParameters":[],"line":363,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nSaves a new iteration of an already existing branding.\n","description":"<p>Saves a new iteration of an already existing branding.</p>\n","modifierKind":[134],"jsdoctags":[{"name":"branding","type":"Record<string | any>","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"currentVersion","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"tagsOfCurrentVersion","type":"string[]","deprecated":false,"deprecationMessage":"","defaultValue":"[]","tagName":{"text":"param"}},{"name":"newVersion","type":"string","deprecated":false,"deprecationMessage":"","optional":true,"tagName":{"text":"param"}}]},{"name":"waitForBrandingToBePresent","args":[{"name":"version","type":"string","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"Promise<void>","typeParameters":[],"line":159,"deprecated":false,"deprecationMessage":"","rawdescription":"\n\nAs the branding is not immediately available after creation, this method will wait for the branding to be present.\n","description":"<p>As the branding is not immediately available after creation, this method will wait for the branding to be present.</p>\n","modifierKind":[134],"jsdoctags":[{"name":{"pos":5329,"end":5336,"kind":80,"id":0,"flags":16842752,"transformFlags":0,"escapedText":"version"},"type":"string","deprecated":false,"deprecationMessage":"","tagName":{"pos":5323,"end":5328,"kind":80,"id":0,"flags":16842752,"transformFlags":0,"escapedText":"param"},"comment":"<p>The version of the branding to be retrieved.</p>\n"}]}],"deprecated":false,"deprecationMessage":"","description":"<p>Service to load and store the branding of the tenant.</p>\n","rawdescription":"\n\nService to load and store the branding of the tenant.\n","constructorObj":{"name":"constructor","description":"","deprecated":false,"deprecationMessage":"","args":[{"name":"applicationService","type":"ApplicationService","deprecated":false,"deprecationMessage":""},{"name":"inventory","type":"InventoryService","deprecated":false,"deprecationMessage":""},{"name":"binary","type":"InventoryBinaryService","deprecated":false,"deprecationMessage":""},{"name":"zip","type":"ZipService","deprecated":false,"deprecationMessage":""},{"name":"fetch","type":"FetchClient","deprecated":false,"deprecationMessage":""},{"name":"brandingVersionService","type":"BrandingVersionService","deprecated":false,"deprecationMessage":""},{"name":"appState","type":"AppStateService","deprecated":false,"deprecationMessage":""},{"name":"staticAssets","type":"StaticAssetsService","deprecated":false,"deprecationMessage":""},{"name":"themeSwitcher","type":"ThemeSwitcherService","deprecated":false,"deprecationMessage":""},{"name":"brandingTracking","type":"BrandingTrackingService","deprecated":false,"deprecationMessage":""}],"line":66,"jsdoctags":[{"name":"applicationService","type":"ApplicationService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"inventory","type":"InventoryService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"binary","type":"InventoryBinaryService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"zip","type":"ZipService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"fetch","type":"FetchClient","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"brandingVersionService","type":"BrandingVersionService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"appState","type":"AppStateService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"staticAssets","type":"StaticAssetsService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"themeSwitcher","type":"ThemeSwitcherService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"brandingTracking","type":"BrandingTrackingService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},"extends":[],"type":"injectable"}